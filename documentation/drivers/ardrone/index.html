<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description">
<meta content="The Hybrid Group" name="author">
<title>Cylon.js - ARDrone Driver</title>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><link href="http://fonts.googleapis.com/css?family=Source+Code+Pro:300,400,500,700" rel="stylesheet" type="text/css">
<link href="/stylesheets/style.css" rel="stylesheet">
<link href="/favicon.ico" rel="shortcut icon" type="image/gif">
<script>
      $(document).ready(function() {
        $('header .subtitle').hover(function() {
          $('.easter', this).show();
          $('.main', this).hide();
        }, function () {
          $('.easter', this).hide();
          $('.main', this).show();
        });
      });
    </script>
</head>
<body>
    <div class="app">
      <div class="w">
        <header class="app-header" role="banner"><div class="display">
            <h1 class="cylon-logo">
              <a href="/">Cylon</a>
            </h1>
          </div>
          <span class="menu">
            <a href="/documentation" class="item">Docs</a>
            <a href="/hardware" class="item">Hardware</a>
            
            <a href="/blog" class="item">Blog</a>
            <a class="item" target="blanck" href="https://github.com/hybridgroup/cylon/">Github</a>
          </span>
        </header>
</div>
      <div class="page-title">
        <div class="w">
          <h1 class="title">ARDrone</h1>
          <h2 class="subtitle">Driver</h2>
        </div>
      </div>
      <div class="container">
        <div class="main" role="main">
          <section class="content full"><div class="documentation">
              <section class="intro"><img class="display" src="/images/ardrone-flight.jpg"><p>
                  Allows user to send flight control commands to an ARDrone. Flight control commands are those used to tell the ARDrone to take off, land, and or any number of other autonomous flight manuvers.
                </p>
              </section><section class="how-to"><h2>How to establish a connection and setup the driver</h2>
                <p>
                  Communication with the ARDrone's flight control interface takes place using a WiFi connection. The ARDrone is a WiFi access point, so it normally can be the only device you connect to, without some additional effort to reconfigure the drone itself to put it into infrastructure mode.
                </p>
                <h3>JavaScript</h3>
                <pre class="CodeRay"><span class="keyword">var</span> Cylon = require(<span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>);

Cylon.robot({
  <span class="key">connection</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">port</span>: <span class="string"><span class="delimiter">'</span><span class="content">192.168.1.1</span><span class="delimiter">'</span></span>},

  <span class="key">device</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>},
...
</pre>
                <h3>CoffeeScript</h3>
                <pre class="CodeRay">Cylon = require <span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>

Cylon.robot
  connection:
    name: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">port</span>: <span class="string"><span class="delimiter">'</span><span class="content">192.168.1.1</span><span class="delimiter">'</span></span>

  device:
    name: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>
...
</pre>
              </section><section class="public-methods"><h2>Commands:</h2>
                <dl class="methods">
<dt>takeoff(callback)</dt>
                  <dd>
                    <p>Sets the internal <code>fly</code> state to <code>true</code>, <code>callback</code> is invoked after the drone reports that it is hovering.</p>
                  </dd>
                  <dt>land(callback)</dt>
                  <dd>
                    <p>Sets the internal <code>fly</code> state to <code>false</code>, <code>callback</code> is invoked after the drone reports it has landed.</p>
                  </dd>
                  <dt>stop</dt>
                  <dd>
                    <p>Sets all drone movement commands to <code>0</code>, making it effectively hover in place.</p>
                  </dd>
                  <dt>up(speed)</dt>
                  <dd>
                    Makes the drone gain altitude.
                    <p><code>speed</code> can be a value from <code>0</code> to <code>1</code>.</p>
                  </dd>
                  <dt>down(speed)</dt>
                  <dd>
                    Makes the drone reduce altitude.
                    <p><code>speed</code> can be a value from <code>0</code> to <code>1</code>.</p>
                  </dd>
                  <dt>left(speed)</dt>
                  <dd>
                    Causes the drone to bank to the left, controls the roll, which is a horizontal movement using the camera as a reference point.
                    <p><code>speed</code> can be a value from <code>0</code> to <code>1</code>.</p>
                  </dd>
                  <dt>right(speed)</dt>
                  <dd>
                    Causes the drone to bank to the right, controls the roll, which is a horizontal movement using the camera as a reference point.
                    <p><code>speed</code>can be a value from <code>0</code> to <code>1</code>.</p>
                  </dd>
                  <dt>front(speed) | forward(speed)</dt>
                  <dd>
                    Causes the drone to bank forward, controls the pitch, which a horizontal movement using the camera as a reference point.
                    <p><code>speed</code> can be a value from <code>0</code> to <code>1</code>.</p>
                  </dd>
                  <dt>back(speed)</dt>
                  <dd>
                    Causes the drone to bank to the back, controls the pitch, which a horizontal movement using the camera as a reference point.
                    <p><code>speed</code> can be a value from <code>0</code> to <code>1</code>.</p>
                  </dd>
                  <dt>clockwise</dt>
                  <dd>
                    Causes the drone to spin.
                    <p><code>speed</code> can be a value from <code>0</code> to <code>1</code>.</p>
                  </dd>
                  <dt>counterClockwise</dt>
                  <dd>
                    Causes the drone to spin.
                    <p><code>speed</code> can be a value from <code>0</code> to <code>1</code>.</p>
                  </dd>
                  <dt>calibrate(device_num)</dt>
                  <dd>Asks the drone to calibrate a device.</dd>
                  <dt>config(key, value, callback)</dt>
                  <dd>
                    Sends a config command to the drone.
                  </dd>
                  <dt>animate(animation, duration)</dt>
                  <dd>
                    <p>Performs a pre-programmed flight sequence for a given <code>duration</code> (in ms). 
                    <code>animation</code> can be one of the following:</p>
                    <pre class="CodeRay">[<span class="string"><span class="delimiter">'</span><span class="content">phiM30Deg</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">phi30Deg</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">thetaM30Deg</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">theta30Deg</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">theta20degYaw200deg</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">theta20degYawM200deg</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">turnaround</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">turnaroundGodown</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">yawShake</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">yawDance</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">phiDance</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">thetaDance</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">vzDance</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">wave</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">phiThetaMixed</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">doublePhiThetaMixed</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">flipAhead</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">flipBehind</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">flipLeft</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">flipRight</span><span class="delimiter">'</span></span>]
</pre>
                  </dd>
                  <dt>frontFlip</dt>
                  <dd>
                    <p>Tells the drone to do a front-flip. Alias of <code>animate('flipAhead', 150)</code>.</p>
                  </dd>
                  <dt>backFlip</dt>
                  <dd>
                    <p>Tells the drone to do a back-flip. Alias of <code>animate('flipBehind', 150)</code>.</p>
                  </dd>
                  <dt>leftFlip</dt>
                  <dd>
                    <p>Tells the drone to do a left-flip. Alias of <code>animate('flipLeft', 150)</code>.</p>
                  </dd>
                  <dt>rightFlip</dt>
                  <dd>
                    <p>Tells the drone to do a right-flip. Alias of <code>animate('flipRight', 150)</code>.</p>
                  </dd>
                  <dt>wave</dt>
                  <dd>
                    <p>Tells the drone to do a wave. Alias of <code>animate('wave', 750)</code>.</p>
                  </dd>
                  <dt>animateLeds(animation, hz, duration)</dt>
                  <dd>
                    <p>Performs a pre-programmed led sequence at given <code>hz</code> frequency and <code>duration</code> (in sec!). <code>animation</code> can be one of the following:</p>
                    <pre class="CodeRay">[<span class="string"><span class="delimiter">'</span><span class="content">blinkGreenRed</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">blinkGreen</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">blinkRed</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">blinkOrange</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">snakeGreenRed</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">fire</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">standard</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">red</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">green</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">redSnake</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">blank</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">rightMissile</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">leftMissile</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">doubleMissile</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">frontLeftGreenOthersRed</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">frontRightGreenOthersRed</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">rearRightGreenOthersRed</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">rearLeftGreenOthersRed</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">leftGreenRightRed</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">leftRedRightGreen</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">blinkStandard</span><span class="delimiter">'</span></span>]  
</pre>
                  </dd>
                  <dt>disableEmergency</dt>
                  <dd>
                    <p>Causes the emergency REF bit to be set to 1 until <code>navdata.droneState.emergencyLanding is 0</code>. This recovers a drone that has flipped over and is showing red lights to be flyable again and show green lights. It is also done implicitly when creating a new high level client.</p>
                  </dd>
                  <dt>forward</dt>
                  <dd>Causes the drone to go forward.</dd>
                  <dt>frontFlip</dt>
                  <dd>Causes the drone to do a front flip.</dd>
                  <dt>backFlip</dt>
                  <dd>Causes the drone to do a back flip.</dd>
                  <dt>leftFlip</dt>
                  <dd>Causes the drone to do a left flip.</dd>
                  <dt>rightFlip</dt>
                  <dd>Causes the drone to do a right flip.</dd>
                  <dt>wave</dt>
                  <dd>Causes the drone to do a wave.</dd>
                </dl>
<h2>Events</h2>
                <dl class="methods">
<dt>start</dt>
                  <dd>Sent when the device has been started and is ready to use.</dd>
                </dl></section><section class="how-to"><h2>How to use</h2>
                <p>
                  This example controls an ARDrone to take off, and then land.
                </p>
                <h3>JavaScript</h3>
                <pre class="CodeRay"><span class="keyword">var</span> Cylon = require(<span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>);

Cylon.robot({
  <span class="key">connection</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">port</span>: <span class="string"><span class="delimiter">'</span><span class="content">192.168.1.1</span><span class="delimiter">'</span></span>},
  <span class="key">device</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">drone</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>},
  <span class="function">work</span>: <span class="keyword">function</span>(my) {
    my.drone.takeoff();

    after((<span class="integer">10</span>).seconds(), <span class="keyword">function</span>() {
      my.drone.land();
    }

    after((<span class="integer">15</span>).seconds(), <span class="keyword">function</span>() {
      my.drone.stop();
    }
  }
}).start();
</pre>
                <h3>CoffeeScript</h3>
                <pre class="CodeRay">Cylon = require <span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>

Cylon.robot
  connection:
    name: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>, <span class="key">port</span>: <span class="string"><span class="delimiter">'</span><span class="content">192.168.1.1</span><span class="delimiter">'</span></span>

  device:
    name: <span class="string"><span class="delimiter">'</span><span class="content">drone</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">ardrone</span><span class="delimiter">'</span></span>

  work: (my) -&gt;
    my.drone.takeoff()

    after <span class="integer">10</span>.seconds(), -&gt;
      my.drone.land()

    after <span class="integer">15</span>.seconds(), -&gt;
      my.drone.stop()

.start()
</pre>
              </section><section class="compatability hardware"><h2>Works with:</h2>
                <div class="devices">
                  <a class="device" href="/documentation/platforms/ardrone" title="AR Drone">
                    <img src="/images/ardrone.jpg"></a>
                </div>
              </section>
</div>
          </section>
</div>
      </div>
    </div>
    <footer class="app-footer"><div class="w">
        <div class="copyright">
          © Copyright 2012-2013
          <a href="http://hybridgroup.com">The Hybrid Group.</a>
        </div>
      </div>
    </footer>
</body>
</html>
