<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description">
<meta content="The Hybrid Group" name="author">
<title>Cylon.js CLI</title>
<link href="/stylesheets/style.css" rel="stylesheet">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script src="/javascripts/script.js"></script><script src="/hybridpages/assets/javascript/subnav.js"></script><link href="//fonts.googleapis.com/css?family=Inconsolata:400,700%7CMontserrat:700" rel="stylesheet">
<link href="/favicon.ico" rel="shortcut icon" type="image/gif">
<script type="text/javascript">


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46433484-2', {"cookieDomain":"cylonjs.com"});











   ga('send', 'pageview');


</script></head>
<body>
    
    <div class="app">
      <div class="w">
        <header class="app-header" role="banner"><div class="display">
            <h1 class="app-logo">
              <a href="/">Cylon</a>
            </h1>
            <span class="subtitle">
              <div class="main"></div>
            </span>
          </div>
          <span class="menu">
            <a href="/documentation" class="item">Docs</a>
            <a href="/documentation/platforms" class="item">Platforms</a>
            
            <a href="/blog" class="item">Blog</a>
            <a class="item" target="blanck" href="https://github.com/hybridgroup/cylon/">Github</a>
          </span>
        </header>
</div>
      <div class="page-title">
        <div class="w">
          <h1 class="title">CLI</h1>
          <h2 class="subtitle">Cylon CLI (Command Line Interface) provides several tools to make RobotOps easier.</h2>
        </div>
      </div>
      <div class="container">
        <div class="main" role="main">
          <section class="content full"><div class="documentation">
              <div class="cli">
                <h2>What is it?</h2>
                <p>
                  Cylon CLI is a powerful command line interface tool that provides several tools to make RobotOps and
                  setting up your devices to work with cylon a lot easier.
                </p>
                <h2>How to install</h2>
                <p>
                  For the commands to be available everywhere the cylon module needs to be installed globally.
                  Here's how to do it.
                </p>
                <pre class="CodeRay">$ sudo npm install -g cylon
</pre>
                <h2>How can I use it?</h2>
                <p>
                  The CylonJS command line interface tools are pretty easy to use and designed to be intuitive, they also
                  provide contextual help regarding the commands you are using. After you have installed CylonJS npm module
                  you just need to call the `cylon` command and a list of available commands (this may vary if you have extra
                  modules installed like cylon-firmata or cylon-digispark) will be printed to the terminal.
                </p>
                <h3>Printing a list of available commands</h3>
                <pre class="CodeRay">$ cylon

Usage: cylon [command] [options]

Commands:

  generate &lt;name&gt;        Generates a new adaptor
  scan &lt;type&gt;            Scans serial, bluetooth or usb (pass param &lt;serial&gt; | &lt;bluetooth&gt; | &lt;usb&gt;) for connected devices
  bluetooth &lt;subcmd&gt; &lt;address&gt; [option] Connect bluetooth device to PC (pairs) or stablishes serial to bluetooth connection

Options:

  -h, --help     output usage information
  -V, --version  output the version number
</pre>
                <h3>Scanning serial port for connected devices</h3>
                <pre class="CodeRay">$ cylon scan serial
[    0.000000] console [tty0] enabled
[    0.526190] 00:08: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
[27425.430589] cdc_acm 3-4:1.0: ttyACM0: USB ACM device
</pre>
                <h3>Important note about Cylon CLI commands.</h3>
                <p>
                  To use the commands as described here you need to install cylon as a global module
                  by running `sudo npm install -g cylon`.
                </p>
                <p>
                  If you choose to install locally, using just local path, and you cannot call the
                  commands, you might need to use the full path to the cylon command file, or add
                  `./node_modules/cylon/bin` directory to the $PATH.
                </p>
                <pre class="CodeRay">$ ./node_modules/cylon/bin/cylon scan serial
</pre>
                <h2>What Cylon CLI commands are available?</h2>
                <p>
                  If you have only installed cylon, the list of available commands is the one printed in the section above,
                  let's review them one by one.
                </p>
                <h3>cylon generate &lt;name&gt;</h3>
                <h4>Description</h4>
                <p>
                  Generates a wireframe for a new Cylon.js adaptor (adaptor, driver, etc).
                  This way, it's easy to add Cylon.js support for new devices. Just create a
                  new adaptor using this CLI command, and start adding your own adaptor code.
                </p>
                <pre class="CodeRay">$ cylon generate octobot
Creating cylon-octobot adaptor.
Compiling templates.
</pre>
                <h3>cylon scan &lt;type&gt;</h3>
                <h4>Description</h4>
                <p>
                  Scans different types of devices connected to your computer.
                  The available options for the type param are `serial`, `bluetooth` or `usb`.
                </p>
                <pre class="CodeRay">$ cylon scan usb
Bus 002 Device 002: ID 8087:8000 Intel Corp.
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 003 Device 007: ID 08bb:2702 Texas Instruments Speakers
Bus 003 Device 012: ID 1781:0c9f Multiple Vendors USBtiny
Bus 003 Device 013: ID 2341:0043 Arduino SA Uno R3 (CDC ACM)
</pre>
                <pre class="CodeRay">$ cylon scan bluetooth
Scanning ...
  00:06:66:4A:23:C3        Sphero-RPB
</pre>
                <h3>cylon bluetooth &lt;subcommand&gt; &lt;address&gt;</h3>
                <h4>Description</h4>
                <p>
                  Lets you pair, unpair and connect to bluetooth devices by specifying one of three
                  subcommands, the avilable options for the subcommand are `pair`, `unpair` or `connect`.
                </p>
                <h4>cylon bluetooth pair &lt;address&gt;</h4>
                <p>
                  <b>Description:</b>
                  Pairs a bluetooth device to the computer.<br><b>Notes:</b>
                  when prompted, answer `yes` to confirm pairing pin.
                </p>
                <pre class="CodeRay">$ cylon bluetooth pair 00:06:66:4A:23:C3
RequestConfirmation (/org/bluez/630/hci0/dev_00_06_66_4A_23_C3, 135070)
Confirm passkey (yes/no): yes
Release
New device (/org/bluez/630/hci0/dev_00_06_66_4A_23_C3)
</pre>
                <h4>cylon bluetooth unpair &lt;address&gt;</h4>
                <p>
                  <b>Description:</b>
                  Unpairs a bluetooth device.<br><b>Notes:</b>
                  when prompted answer `no` to deny pairing pin.
                </p>
                <pre class="CodeRay">$ cylon bluetooth unpair 00:06:66:4A:23:C3
RequestConfirmation (/org/bluez/630/hci0/dev_00_06_66_4A_23_C3, 761422)
Confirm passkey (yes/no): no
Creating device failed: org.bluez.Error.AuthenticationFailed: Authentication Failed
</pre>
                <h4>cylon bluetooth connect &lt;address&gt;</h4>
                <p>
                  <b>Description:</b>
                  connects a bluetooth device to a serial port to enable communication with CylonJS.
                </p>
                <pre class="CodeRay">$ cylon bluetooth connect 00:06:66:4A:23:C3
Connected /dev/rfcomm0 to 00:06:66:4A:23:C3 on channel 1
Press CTRL-C for hangup
</pre>
                <h2>That's ok, but... are those all the commands available?</h2>
                <p>
                  Good you ask, and the answer is NO! Other cylon modules include more commands that will prove very usuful and make your life
                  easier when working in RobotOps, these will be made available for you when you install new cylon modules, no
                  extra work needed.
                </p>
                <h3>Ok, then show me more Cylon CLI commands.</h3>
                <p>
                  The following is a list of commands available to you when you install the cylon-firmata and cylon-digispark
                  modules and you run the `cylon` command (the list also includes the default Cylon CLI commands).
                </p>
                <pre class="CodeRay">$ cylon

  Usage: cylon [command] [options]

  Commands:

    generate &lt;name&gt;        Generates a new adaptor
    scan &lt;type&gt;            Scans serial, bluetooth or usb (pass param &lt;serial&gt; | &lt;bluetooth&gt; | &lt;usb&gt;) for connected devices
    bluetooth &lt;subcmd&gt; &lt;address&gt; [option] Connect bluetooth device to PC (pairs) or stablishes serial to bluetooth connection
    littlewire             Upload littlewire protocol to digispark
    firmata                Upload firmata protocol to arduino

  Options:

    -h, --help     output usage information
    -V, --version  output the version number
</pre>
                <h2>cylon-firmata CLI commands</h2>
                <h3>cylon firmata &lt;subcommand&gt; [address]</h3>
                <p>
                  This command lets you install avrdude (needed to upload firmata to arduino)
                  and upload the firmata protocol to arduino, that way you can connect and communicate
                  with the arduino using CylonJS.
                </p>
                <pre class="CodeRay">$ cylon firmata
cylon firmata argument not recognized, try:

1.- cylon firmata upload &lt;serial_port_address&gt;
2.- cylon firmata install
</pre>
                <h4>cylon firmata install</h4>
                <p>
                  <b>Description:</b>
                  Installs avrdude so you can upload firmata to the arduino (sudo authorization might be needed).
                </p>
                <pre class="CodeRay">$ cylon firmata install
Reading package lists...
Building dependency tree...
Reading state information...
avrdude is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
</pre>
                <h4>cylon firmata upload &lt;serial_port_address&gt;</h4>
                <p>
                  <b>Description:</b>
                  Uploads the firmata protocol to the arduino.<br><b>Notes:</b>
                  you must run `cylon firmata install` first.
                  The serial port must have the correct permissions for your
                  user to read and write, or run it as root (sudo it).
                </p>
                <pre class="CodeRay">$ cylon firmata upload ttyACM0

avrdude: AVR device initialized and ready to accept instructions

Reading | ################################################## | 100% 0.00s

avrdude: Device signature = 0x1e950f
avrdude: reading input file "/home/myuser/workspace/cylon-cmds/node_modules/cylon-firmata/src/cli/hex/StandardFirmata.cpp.hex"
avrdude: writing flash (11452 bytes):

Writing | ################################################## | 100% 1.84s

avrdude: 11452 bytes of flash written
avrdude: verifying flash memory against /home/myuser/workspace/cylon-cmds/node_modules/cylon-firmata/src/cli/hex/StandardFirmata.cpp.hex:
avrdude: load data flash data from input file /home/myuser/workspace/cylon-cmds/node_modules/cylon-firmata/src/cli/hex/StandardFirmata.cpp.hex:
avrdude: input file /home/myuser/workspace/cylon-cmds/node_modules/cylon-firmata/src/cli/hex/StandardFirmata.cpp.hex contains 11452 bytes
avrdude: reading on-chip flash data:

Reading | ################################################## | 100% 1.47s

avrdude: verifying ...
avrdude: 11452 bytes of flash verified

avrdude: safemode: Fuses OK

avrdude done.  Thank you.
</pre>
                <h2>cylon-digispark CLI commands</h2>
                <h3>cylon littlewire &lt;subcommand&gt;</h3>
                <p>
                  In the same way that firmata lets you communicate with the arduino using CylonJS, littlewire lets you communicate
                  with the digispark, it is a communication protocol/firmware that can easily be uploaded to the digispark using Cylon.
                  Let's check the CLI commands.
                </p>
                <pre class="CodeRay">$ cylon littlewire
cylon littlewire argument not recognized, try:

1.- cylon littlewire upload (make sure NOT to connect the digispark until prompted).
2.- cylon littlewire set-udev-rules
</pre>
                <h4>cylon littlewire upload</h4>
                <p>
                  <b>Description:</b>
                  Uploads littlewire to the digispark (also installs the necessary udev-rules, only in linux systems).<br><b>Notes:</b>
                  Do not connect the digispark until prompted to do so.
                </p>
                <pre class="CodeRay">$ cylon littlewire upload
---------------------------------------------------------------------------
-- Greetings!
-- This program is customised version of the micronucleus commandline app.
-- You are about to install Little_Wire_v1.3 to your device!
---------------------------------------------------------------------------

&gt; Please plug in the device ...
&gt; Press CTRL+C to terminate the program.
&gt; Device is found!
connecting: 40% complete
&gt; Available space for user application: 6010 bytes
&gt; Suggested sleep time between sending pages: 8ms
&gt; Whole page count: 94
&gt; Erase function sleep duration: 752ms
parsing: 60% complete
&gt; Erasing the memory ...
erasing: 80% complete
&gt; Starting to upload ...
writing: 100% complete
&gt;&gt; Micronucleus done. Thank you!
&gt;&gt; Press enter to exit program ...
</pre>
                <h4>cylon littlewire set-udev-rules</h4>
                <p>
                  <b>Description:</b>
                  Sets the udev-rules necessary to upload littlewire to the digispark in Linux systems.
                </p>
                <pre class="CodeRay">$ cylon littlewire set-udev-rules
</pre>
                <h2>cylon-spark CLI commands</h2>
                <h3>cylon spark &lt;subcommand&gt; [arguments]</h3>
                <p>
                  Uploading Code To Your Spark Core Using the Cylon CLI is pretty straight forward, we have an upload command that makes
                  pushing code to your spark a breeze.
                </p>
                <h4>cylon spark upload &lt;access_token&gt; &lt;device_id&gt; &lt;file_name.cpp&gt;</h4>
                <p>
                  <b>Description:</b>
                  lets you upload new source code directly to your Spark Core.<br><b>Notes:</b>
                  </p>
<ul>
<li>
<code>access_token:</code> In the Build tool, click on the Settings cog in the bottom-left corner to find your access token.</li>
                    <li>
<code>device_id:</code> After you have your Spark Core registered to your account through the Tinker app, click on the Cores section (just above the Settings cog) on the Build tool. Then, click on the arrow next to your core's name to get its device ID.</li>
                  </ul>
<pre class="CodeRay">$ cylon spark upload [access_token] [device_id] new_firmware.cpp
</pre>
                <p>
                  For more information on how to program your Spark, please see
                  <a target="blank" href="http://docs.spark.io/#/examples">Spark's examples</a>
                </p>
                <p>
                  You'll need your <code>access_token</code> and <code>device_id</code> to push new software to your Spark, and you can get both of these from Spark's
                  <a target="blank" href="https://spark.io/build">Build tool</a>
                </p>
              </div>
            </div>
          </section>
</div>
      </div>
    </div>
    <footer class="app-footer"><div class="w">
        <div class="copyright">
          © Copyright 2012-2014
          <a href="http://hybridgroup.com">The Hybrid Group.</a>
        </div>
      </div>
    </footer>
</body>
</html>
